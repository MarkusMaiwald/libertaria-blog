---
const { href, target } = Astro.props;
const pathname = Astro.url.pathname;
const isActive = pathname === href || pathname.startsWith(href + '/');
---

<a href={href} target={target} aria-current={isActive ? 'page' : undefined} class={isActive ? 'active' : ''}>
	<slot />
</a>

<style>
	a {
		display: inline-block;
		padding: 0.5rem 0.75rem;
		color: var(--text);
		font-weight: 500;
		font-size: 0.95rem;
		letter-spacing: 0.02em;
		border-bottom: 2px solid transparent;
		text-decoration: none;
		transition: color var(--duration-fast) var(--ease-out-expo),
		            border-bottom-color var(--duration-base) var(--ease-out-expo);
	}

	a:hover {
		color: var(--accent);
		border-bottom-color: var(--red);
	}

	a.active,
	a[aria-current="page"] {
		color: var(--accent);
		border-bottom-color: var(--red);
		font-weight: 600;
	}
</style>
